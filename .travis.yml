language: node_js
node_js:
  - node
addons:
  sonarcloud:
    organization: "react-security" # the key of the org you chose at step #3
    token:
      secure: "QzF7LDiN41eiVhwgpk2hE/ORNQHLWPPK2IWr1G4FOBhDN138VfmZPARo6Q4iyBSx2dIE4Ry/p2I/QXa0JZdSOHZ/V6AYVWleTD4rKAHnJaGa6E2AYAmKKrk2vFzHupDyk1xYSnaVp5apvGTPTSSrwgV035qNopX5No8v0xoI6VrUhGrj8oANTNwVjywsNKrGgiiKLd9LBdRI/XbDckP4y3n790qZrX049550nFzXirPqWU6ErvoUO8ZVklBnss7HVoE2tfFfeNeQdxyCIQ868XX4uiHiMhO1yKDygCmc6Z8dJFhzOzQWkk4ccoDQ58qWEKf+ZBs72DVYio2ma8nHcy11h9FFWITaBHdaXCoL0l+kR6SE5opFuu1yfqah7fVF5M2w8fq8i8siGDEuQ5Vk38oA5VKTvDRtMeojrrCuYp+fol3BeL5D4ImLo3uZP5xYEms7JvieCJQax1fPa7Uq0NQgZ0Z9XogDFnSEt0Ftge4t0gOSkVXmsIqP6JsU5kiU3TbpPAYIWXK69vl+uYkRYhl2sGMMw9WI364y27q1LqKDbiJ/uKeTS+6Z5/QTQGH5LjPoKouZcYsv+RNrPgVzEpRagchnr2APet8KXadJDCQsWXollfS/S2zSnyyH/MXzGelwaSzSJOcGb1y0vzArWFYFrxANEKYEBS748vm7c1M="
script:
  # other script steps might be done before running the actual analysis
  - yarn coverage
  - yarn report-coverage
  - sonar-scanner
  - yarn build

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN # Set in the settings page of your repository, as a secure variable
  keep_history: true
  on:
    branch: main

cache:
  directories:
    - node_modules
