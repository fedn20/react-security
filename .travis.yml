language: node_js
node_js:
  - node
addons:
  # sonarcloud:
  #   organization: "fedn20" # the key of the org you chose at step #3
  #   token:
  #     secure: "CqKvdQZRR65uvB3n8QqGMZOlPhLWO04oFU/VBqrFp7CpRBq+PICZzCiervWraVqA1/2Ln/TErFhZD1RGE7lrWu5wLZ2T3JO23O3riPd1Cqv4R9Sr4Y9dEeMZ8xWYCV70qQGftklFMnbdVKPvudkzSNYIFBGbepBZ0mIt4jqY3FR0pmCiDG+Kv8MQiuDG0EI/z+WggCPBX6W3jZfEmpUkUK6urC0ix+zClVMZO9fhlqCmXsMXOLlvUjfFpFwGMmLs3Jt1J5Gm8oosoW9BaQRgnpFl6EJFY9jBbYs70xee6mQ6ySaLtl6hU8v4QXXVOJwdmdHwMvPa7h+c7+QMMktogWSvghFWYBsr+SvR2iiMUQWYOccCJ28QvKwTtdYkSpbQBO7Qw83dfxlQi6gp2it66LFTgSHnGst+tPF6T/sqysAQ27daoLBm6G0/vlPtxcldrV1amn3c1tvzkgsvCguUIvHD4tbHBFOthhjPHT1eH853DMGmO4afs1nubokCt5a6rbeVRPPNkvfV7ktKkGOrnunPEzTWrHgSQ8zlDvqRM4YxAKlgHiYy4i5YgpsVvLwAE+Y+yQp1IadDvt17UGF5XMsqdptBOgeUvxH1c8IbcDBQA6m1MEZuEiGTPRLZ1GKvuQZf3bFptFrT3si1sEd5jUvuYc9LvCon79T5vmzgUV4="
script:
  # other script steps might be done before running the actual analysis
  - yarn coverage
  - yarn report-coverage
  # - sonar-scanner
  - yarn build

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN # Set in the settings page of your repository, as a secure variable
  keep_history: true
  on:
    branch: main

cache:
  directories:
    - node_modules
