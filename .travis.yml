language: node_js
node_js:
  - node
addons:
  sonarcloud:
    organization: "fedn20" # the key of the org you chose at step #3
    token:
      secure: "J80jDM/r0NCdO+pQG+72Ynk++0Qim6CL46UpCObWkHcLGHPTv7WtcHSHgqN+s+hIR78t4jaB3Y23ZagABnx1ZWTFo0zL8yR2bTq77M07yOHp1kycPUMEV/xllZx8CW6HG63sNht856dSvDpH9pS9p8Cns9/keYxDhkoJSgAdiTdRfVwwqIXR0OTY4TOhTvY8y/tZqAgEtXPS1SuhyIFx9Xc81gdIvgahuXhFOm8ZgBQNQ0sstHooSieYczzAWvpjHnXwckiQsvBWY1l/e7ua5KslAzTGS4MXClsyCBYtEI2oeaJPGxSLWkCes6R1Xwqm2z2HoVTIoU6dUQ7+esa5h3+Ka8nk49y/lk0QHiZhb155O87el7Th/KbwNyEwJq4CviR81T4YGTDjXzK8YNTOO3gL8rIZETOq8Q8huRl+3XAKuUN1SgXM5yRMoEAGgxP+HUtdtBfRD9lXiw5B3aw0ZClQW+O5FrgMfYSgXajFsGr0Uh0KRU/2oIza9PmsxXjx6tQhQQfKjdcPkQIVQDzoNEugFxYVW0ePD3ea/3U/rciiA697Se+L+d5SRnQePJqFbSbxXqFD8av3CD64Anr249Sxukm6O+nJDuj4y0ri9pM9qH2lM22xvMakQ0z0mj6zAgUjifkpKx3nH4mrvw9PRySmWBwi/I0qi0dkurC9MZA="
script:
  # other script steps might be done before running the actual analysis
  - yarn coverage
  - yarn report-coverage
  - sonar-scanner
  - yarn build

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN # Set in the settings page of your repository, as a secure variable
  keep_history: true
  on:
    branch: main

cache:
  directories:
    - node_modules
